2025-05-05 16:20:55.347 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:21:25.349 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:24:35.752 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:25:05.753 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:27:12.390 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:27:42.391 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:29:51.231 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:30:21.232 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:31:59.035 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:32:29.036 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:36:09.058 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:36:39.059 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:38:00.108 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:38:30.109 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:38:45.736 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:39:15.737 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:40:05.540 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python' args=['inventory_mcp_server.py'] env={'PYTHONPATH': '.'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:42:49.114 | INFO     | multi_agents.pipeline:pipeline:20 - server_params: command='npx' args=['-y', '@modelcontextprotocol/server-filesystem'] env={} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:43:19.126 | ERROR    | multi_agents.pipeline:pipeline:77 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:44:14.958 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'PYTHONPATH': '.:./multi_agents'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:44:17.241 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 16:44:17.269 | ERROR    | multi_agents.pipeline:pipeline:78 - Lỗi kết nối MCP server: 1 validation error for Task
context
  Input should be a valid list [type=list_type, input_value='{"conversation_id": "context_...ll, "tồn_kho": null}}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
2025-05-05 16:47:07.747 | INFO     | multi_agents.pipeline:pipeline:22 - server_params: {'url': 'http://localhost:8000/sse'}
2025-05-05 16:47:37.752 | ERROR    | multi_agents.pipeline:pipeline:79 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 16:53:55.170 | INFO     | multi_agents.pipeline:pipeline:25 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'PYTHONPATH': '.:./multi_agents'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:53:55.444 | INFO     | multi_agents.pipeline:pipeline:28 - Connected to MCP server
2025-05-05 16:53:55.472 | ERROR    | multi_agents.pipeline:pipeline:85 - Lỗi kết nối MCP server: 'str' object has no attribute 'get'
2025-05-05 16:54:27.787 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'PYTHONPATH': '.:./multi_agents'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:54:28.705 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 16:54:28.730 | ERROR    | multi_agents.pipeline:pipeline:82 - Lỗi kết nối MCP server: 'str' object has no attribute 'get'
2025-05-05 16:57:31.202 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'PYTHONPATH': '.:./multi_agents'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 16:57:31.471 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 16:57:31.496 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 16:57:31.496 | DEBUG    | multi_agents.pipeline:pipeline:44 - context_list: ['{"conversation_id": "context_1", "kh\\u00e1ch_h\\u00e0ng": "Nguy\\u1ec5n V\\u0103n A", "s\\u1ea3n_ph\\u1ea9m": "iPhone 13", "y\\u00eau_c\\u1ea7u": "ki\\u1ec3m tra gi\\u00e1 v\\u00e0 kho", "k\\u1ebft_qu\\u1ea3": {"gi\\u00e1": null, "t\\u1ed3n_kho": null}}']
2025-05-05 16:57:31.501 | ERROR    | multi_agents.pipeline:pipeline:89 - Lỗi kết nối MCP server: 'str' object has no attribute 'get'
2025-05-05 17:04:24.829 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'PYTHONPATH': '.:./multi_agents'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 17:04:25.102 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 17:04:25.138 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 17:04:25.138 | DEBUG    | multi_agents.pipeline:pipeline:44 - context_list: ['{"conversation_id": "context_1", "kh\\u00e1ch_h\\u00e0ng": "Nguy\\u1ec5n V\\u0103n A", "s\\u1ea3n_ph\\u1ea9m": "iPhone 13", "y\\u00eau_c\\u1ea7u": "ki\\u1ec3m tra gi\\u00e1 v\\u00e0 kho", "k\\u1ebft_qu\\u1ea3": {"gi\\u00e1": null, "t\\u1ed3n_kho": null}}']
2025-05-05 17:04:25.138 | DEBUG    | multi_agents.pipeline:pipeline:53 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': ['{"conversation_id": "context_1", "kh\\u00e1ch_h\\u00e0ng": "Nguy\\u1ec5n V\\u0103n A", "s\\u1ea3n_ph\\u1ea9m": "iPhone 13", "y\\u00eau_c\\u1ea7u": "ki\\u1ec3m tra gi\\u00e1 v\\u00e0 kho", "k\\u1ebft_qu\\u1ea3": {"gi\\u00e1": null, "t\\u1ed3n_kho": null}}']}
2025-05-05 17:04:25.144 | ERROR    | multi_agents.pipeline:pipeline:93 - Lỗi kết nối MCP server: 'str' object has no attribute 'get'
2025-05-05 18:02:02.231 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'PYTHONPATH': '.:./multi_agents:/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 18:02:03.318 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:02:03.355 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:02:03.355 | DEBUG    | multi_agents.pipeline:pipeline:44 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]
2025-05-05 18:02:03.360 | ERROR    | multi_agents.pipeline:pipeline:89 - Lỗi kết nối MCP server: 2 validation errors for Task
context.0.description
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
context.0.expected_output
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-05 18:08:37.961 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:08:38.000 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:08:38.000 | DEBUG    | multi_agents.pipeline:pipeline:42 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]
2025-05-05 18:08:38.001 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]}
2025-05-05 18:08:38.006 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: 2 validation errors for Task
context.0.description
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
context.0.expected_output
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-05 18:09:39.263 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'PYTHONPATH': '.:./multi_agents:/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 18:09:39.522 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:09:39.562 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:09:39.562 | DEBUG    | multi_agents.pipeline:pipeline:44 - context_list: ['{"conversation_id": "context_1", "kh\\u00e1ch_h\\u00e0ng": "Nguy\\u1ec5n V\\u0103n A", "s\\u1ea3n_ph\\u1ea9m": "iPhone 13", "y\\u00eau_c\\u1ea7u": "ki\\u1ec3m tra gi\\u00e1 v\\u00e0 kho", "k\\u1ebft_qu\\u1ea3": {"gi\\u00e1": null, "t\\u1ed3n_kho": null}}']
2025-05-05 18:09:39.562 | DEBUG    | multi_agents.pipeline:pipeline:53 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': ['{"conversation_id": "context_1", "kh\\u00e1ch_h\\u00e0ng": "Nguy\\u1ec5n V\\u0103n A", "s\\u1ea3n_ph\\u1ea9m": "iPhone 13", "y\\u00eau_c\\u1ea7u": "ki\\u1ec3m tra gi\\u00e1 v\\u00e0 kho", "k\\u1ebft_qu\\u1ea3": {"gi\\u00e1": null, "t\\u1ed3n_kho": null}}']}
2025-05-05 18:09:39.566 | ERROR    | multi_agents.pipeline:pipeline:93 - Lỗi kết nối MCP server: 'str' object has no attribute 'get'
2025-05-05 18:09:53.803 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'PYTHONPATH': '.:./multi_agents:/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 18:09:54.067 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:09:54.105 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:09:54.105 | DEBUG    | multi_agents.pipeline:pipeline:44 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]
2025-05-05 18:09:54.105 | DEBUG    | multi_agents.pipeline:pipeline:53 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]}
2025-05-05 18:09:54.109 | ERROR    | multi_agents.pipeline:pipeline:93 - Lỗi kết nối MCP server: 2 validation errors for Task
context.0.description
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
context.0.expected_output
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-05 18:10:20.256 | INFO     | multi_agents.pipeline:pipeline:21 - server_params: command='uvx' args=['--quiet', 'pubmedmcp@0.1.3'] env={'UV_PYTHON': '3.11', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/3925,unix/trongnv130:/tmp/.ICE-unix/3925', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '3978', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': 'cb5738eae0464df38aa7d3b7fd02eb86', 'MANAGERPID': '3582', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'PYTHONPATH': '.:./multi_agents:/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:42286', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '18339', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-05 18:10:20.529 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:10:20.571 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:10:20.571 | DEBUG    | multi_agents.pipeline:pipeline:44 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]
2025-05-05 18:10:20.571 | DEBUG    | multi_agents.pipeline:pipeline:53 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': ['[{"conversation_id": "context_1", "kh\\u00e1ch_h\\u00e0ng": "Nguy\\u1ec5n V\\u0103n A", "s\\u1ea3n_ph\\u1ea9m": "iPhone 13", "y\\u00eau_c\\u1ea7u": "ki\\u1ec3m tra gi\\u00e1 v\\u00e0 kho", "k\\u1ebft_qu\\u1ea3": {"gi\\u00e1": null, "t\\u1ed3n_kho": null}}]']}
2025-05-05 18:10:20.576 | ERROR    | multi_agents.pipeline:pipeline:93 - Lỗi kết nối MCP server: 'str' object has no attribute 'get'
2025-05-05 18:10:41.234 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:10:41.270 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:10:41.270 | DEBUG    | multi_agents.pipeline:pipeline:42 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]
2025-05-05 18:10:41.270 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}]}
2025-05-05 18:10:41.275 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: 2 validation errors for Task
context.0.description
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
context.0.expected_output
  Field required [type=missing, input_value={'conversation_id': 'context_1...one, 'tồn_kho': None}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-05 18:14:33.217 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:14:33.258 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:14:33.259 | DEBUG    | multi_agents.pipeline:pipeline:47 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:14:33.259 | DEBUG    | multi_agents.pipeline:pipeline:56 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:14:33.316 | ERROR    | multi_agents.pipeline:pipeline:96 - Lỗi kết nối MCP server: litellm.BadRequestError: GetLLMProvider Exception - argument of type 'URL' is not iterable

original model: <openai.OpenAI object at 0x7992b102b010>
2025-05-05 18:20:20.004 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:20:20.045 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:20:20.045 | DEBUG    | multi_agents.pipeline:pipeline:47 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:20:20.045 | DEBUG    | multi_agents.pipeline:pipeline:55 - Task inputs: {'input': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:20:20.049 | ERROR    | multi_agents.pipeline:pipeline:95 - Lỗi kết nối MCP server: 2 validation errors for Task
description
  Field required [type=missing, input_value={'input': "Khách hàng h... lời khách hàng'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
expected_output
  Field required [type=missing, input_value={'input': "Khách hàng h... lời khách hàng'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-05 18:20:37.914 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:20:37.952 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:20:37.952 | DEBUG    | multi_agents.pipeline:pipeline:47 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:20:37.952 | DEBUG    | multi_agents.pipeline:pipeline:55 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:20:37.956 | ERROR    | multi_agents.pipeline:pipeline:95 - Lỗi kết nối MCP server: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': "Khách h... lời khách hàng'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-05 18:20:57.020 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:20:57.060 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:20:57.060 | DEBUG    | multi_agents.pipeline:pipeline:47 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:20:57.060 | DEBUG    | multi_agents.pipeline:pipeline:56 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:20:57.119 | ERROR    | multi_agents.pipeline:pipeline:96 - Lỗi kết nối MCP server: litellm.BadRequestError: GetLLMProvider Exception - argument of type 'URL' is not iterable

original model: <openai.OpenAI object at 0x79271c3d67d0>
2025-05-05 18:27:21.467 | ERROR    | multi_agents.pipeline:pipeline:97 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-05 18:27:30.678 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:27:30.716 | DEBUG    | multi_agents.pipeline:pipeline:37 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}}
2025-05-05 18:27:30.716 | DEBUG    | multi_agents.pipeline:pipeline:49 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:27:30.716 | DEBUG    | multi_agents.pipeline:pipeline:57 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho câu hỏi của khách hàng', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:27:30.759 | ERROR    | multi_agents.pipeline:pipeline:97 - Lỗi kết nối MCP server: litellm.BadRequestError: GetLLMProvider Exception - argument of type 'URL' is not iterable

original model: <openai.OpenAI object at 0x7e03749f7d10>
2025-05-05 18:34:48.378 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:34:48.420 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}
2025-05-05 18:34:48.420 | DEBUG    | multi_agents.pipeline:pipeline:43 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:34:48.420 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:34:48.465 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: litellm.BadRequestError: GetLLMProvider Exception - argument of type 'URL' is not iterable

original model: <openai.OpenAI object at 0x7d54940f1d90>
2025-05-05 18:44:04.055 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-05 18:44:04.094 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}
2025-05-05 18:44:04.094 | DEBUG    | multi_agents.pipeline:pipeline:43 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-05 18:44:04.094 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-05 18:44:04.135 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: litellm.BadRequestError: GetLLMProvider Exception - argument of type 'URL' is not iterable

original model: <openai.OpenAI object at 0x75bba47efb10>
2025-05-06 09:04:18.833 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-07 11:20:42.207 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-07 11:20:42.234 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}
2025-05-07 11:20:42.234 | DEBUG    | multi_agents.pipeline:pipeline:43 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-07 11:20:42.235 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-07 11:20:42.279 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model=Qwen/Qwen2.5-72B-Instruct
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-05-07 11:24:15.564 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-07 11:24:15.590 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}
2025-05-07 11:24:15.590 | DEBUG    | multi_agents.pipeline:pipeline:43 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-07 11:24:15.591 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-07 11:24:15.623 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model=Qwen/Qwen2.5-72B-Instruct
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-05-07 11:24:47.403 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-07 11:24:47.428 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}
2025-05-07 11:24:47.428 | DEBUG    | multi_agents.pipeline:pipeline:43 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-07 11:24:47.428 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-07 11:24:47.462 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model=Qwen/Qwen2.5-72B-Instruct
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-05-07 11:24:59.740 | INFO     | multi_agents.pipeline:pipeline:24 - Connected to MCP server
2025-05-07 11:24:59.765 | DEBUG    | multi_agents.pipeline:pipeline:36 - context_data: {'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}
2025-05-07 11:24:59.765 | DEBUG    | multi_agents.pipeline:pipeline:43 - context_list: [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]
2025-05-07 11:24:59.765 | DEBUG    | multi_agents.pipeline:pipeline:51 - Task inputs: {'description': "Khách hàng hỏi: 'iPhone 13 còn hàng không? Giá bao nhiêu?'", 'agent': Agent(role=Tư vấn khách hàng, goal=Trả lời câu hỏi khách hàng và cung cấp thông tin sản phẩm, backstory=Bạn là một trợ lý bán hàng tận tâm, luôn hỗ trợ khách hàng tốt nhất.), 'expected_output': 'Thông tin tư vấn cho khách hàng', 'context': [{'conversation_id': 'context_1', 'khách_hàng': 'Nguyễn Văn A', 'sản_phẩm': 'iPhone 13', 'yêu_cầu': 'kiểm tra giá và kho', 'kết_quả': {'giá': None, 'tồn_kho': None}, 'description': 'Bối cảnh cho yêu cầu: kiểm tra giá và kho của khách hàng Nguyễn Văn A', 'expected_output': 'Thông tin cần thiết để trả lời khách hàng'}]}
2025-05-07 11:24:59.810 | ERROR    | multi_agents.pipeline:pipeline:91 - Lỗi kết nối MCP server: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model=Qwen/Qwen2.5-72B-Instruct
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-05-07 13:57:07.875 | ERROR    | multi_agents.pipeline:pipeline:114 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-07 13:57:26.823 | INFO     | multi_agents.pipeline:pipeline:30 - Connected to MCP server
2025-05-07 13:57:26.827 | ERROR    | multi_agents.pipeline:pipeline:114 - Lỗi kết nối MCP server: 'list' object has no attribute 'list_tools'
2025-05-07 14:05:06.991 | DEBUG    | multi_agents.pipeline:pipeline:18 - Server script path: /home/trongnv130/Desktop/openai_agent_sdk/multi_agents/inventory_mcp_server.py
2025-05-07 14:05:06.991 | INFO     | multi_agents.pipeline:pipeline:31 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python3' args=['/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/inventory_mcp_server.py'] env={'PYTHONPATH': '.:./multi_agents', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/4690,unix/trongnv130:/tmp/.ICE-unix/4690', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '4740', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': '284e2d6316d34cee94eb6434ec34fc97', 'MANAGERPID': '4398', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:46547', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '5607', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'GEMINI_API_KEY': 'AIzaSyAZOjDprlf8L9_uJaHjWQ0WG6XF_3eeKUY'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-07 14:05:06.991 | ERROR    | multi_agents.pipeline:pipeline:125 - Lỗi kết nối MCP server: MCPServerAdapter.__init__() got an unexpected keyword argument 'timeout'
2025-05-07 14:05:25.023 | DEBUG    | multi_agents.pipeline:pipeline:18 - Server script path: /home/trongnv130/Desktop/openai_agent_sdk/multi_agents/inventory_mcp_server.py
2025-05-07 14:05:25.023 | INFO     | multi_agents.pipeline:pipeline:31 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python3' args=['/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/inventory_mcp_server.py'] env={'PYTHONPATH': '.:./multi_agents', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/4690,unix/trongnv130:/tmp/.ICE-unix/4690', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '4740', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': '284e2d6316d34cee94eb6434ec34fc97', 'MANAGERPID': '4398', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:46547', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '5607', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'GEMINI_API_KEY': 'AIzaSyAZOjDprlf8L9_uJaHjWQ0WG6XF_3eeKUY'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-07 14:05:55.028 | ERROR    | multi_agents.pipeline:pipeline:125 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-07 14:06:32.013 | ERROR    | multi_agents.pipeline:pipeline:114 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-07 14:08:53.709 | ERROR    | multi_agents.pipeline:pipeline:114 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-07 14:16:28.939 | ERROR    | multi_agents.pipeline:pipeline:114 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-07 15:02:03.946 | DEBUG    | multi_agents.pipeline:pipeline:15 - Server script path: /home/trongnv130/Desktop/openai_agent_sdk/multi_agents/inventory_stdio_mcp_server.py
2025-05-07 15:02:03.946 | INFO     | multi_agents.pipeline:pipeline:27 - server_params: command='/home/trongnv130/anaconda3/envs/classify/bin/python3' args=['/home/trongnv130/Desktop/openai_agent_sdk/multi_agents/inventory_stdio_mcp_server.py'] env={'PYTHONPATH': '.:./multi_agents', 'SHELL': '/bin/bash', 'SESSION_MANAGER': 'local/trongnv130:@/tmp/.ICE-unix/4690,unix/trongnv130:/tmp/.ICE-unix/4690', 'QT_ACCESSIBILITY': '1', 'COLORTERM': 'truecolor', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/.noConfigDebugAdapterEndpoints/endpoint-881f9ebf4c423880.txt', 'XDG_MENU_PREFIX': 'gnome-', 'TERM_PROGRAM_VERSION': '1.99.3', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CONDA_EXE': '/home/trongnv130/anaconda3/bin/conda', '_CE_M': '', 'LLM_KEY': 'sk-dwaxinVDbqtkS4Pg7CY1Tg', 'LANGUAGE': 'en_US:en', 'LLM_URL': 'https://llm-gateway.ghtk.vn/v1', 'LC_ADDRESS': 'vi_VN', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'LC_NAME': 'vi_VN', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'MEMORY_PRESSURE_WRITE': 'c29tZSAyMDAwMDAgMjAwMDAwMAA=', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'XMODIFIERS': '@im=ibus', 'DESKTOP_SESSION': 'ubuntu', 'LC_MONETARY': 'vi_VN', 'GTK_MODULES': 'gail:atk-bridge', 'PWD': '/home/trongnv130/Desktop/openai_agent_sdk', 'GSETTINGS_SCHEMA_DIR': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'XDG_SESSION_DESKTOP': 'ubuntu', 'LOGNAME': 'trongnv130', 'CONDA_ROOT': '/home/trongnv130/anaconda3', 'XDG_SESSION_TYPE': 'x11', 'CONDA_PREFIX': '/home/trongnv130/anaconda3/envs/classify', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'SYSTEMD_EXEC_PID': '4740', 'GSETTINGS_SCHEMA_DIR_CONDA_BACKUP': '/home/trongnv130/anaconda3/share/glib-2.0/schemas', 'BUNDLED_DEBUGPY_PATH': '/home/trongnv130/.vscode/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/libs/debugpy', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'VSCODE_GIT_ASKPASS_NODE': '/usr/share/code/code', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'WINDOWPATH': '2', 'HOME': '/home/trongnv130', 'USERNAME': 'trongnv130', 'LC_PAPER': 'vi_VN', 'LANG': 'en_US.UTF-8', 'KAFKA_HOME': '/usr/local/kafka', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:', 'XDG_CURRENT_DESKTOP': 'Unity', 'MEMORY_PRESSURE_WATCH': '/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure', 'CONDA_PROMPT_MODIFIER': '(classify) ', 'GIT_ASKPASS': '/usr/share/code/resources/app/extensions/git/dist/askpass.sh', 'INVOCATION_ID': '284e2d6316d34cee94eb6434ec34fc97', 'MANAGERPID': '4398', 'CHROME_DESKTOP': 'code.desktop', 'GJS_DEBUG_OUTPUT': 'stderr', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'XDG_SESSION_CLASS': 'user', 'TERM': 'xterm-256color', 'LC_IDENTIFICATION': 'vi_VN', '_CE_CONDA': '', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'USER': 'trongnv130', 'VSCODE_GIT_IPC_HANDLE': '/run/user/1000/vscode-git-453cdbff49.sock', 'CONDA_SHLVL': '2', 'CLUTTER_DISABLE_MIPMAPPED_TEXT': '1', 'DISPLAY': ':1', 'SHLVL': '1', 'GSM_SKIP_SSH_AGENT_WORKAROUND': 'true', 'LC_TELEPHONE': 'vi_VN', 'QT_IM_MODULE': 'ibus', 'LC_MEASUREMENT': 'vi_VN', 'PAPERSIZE': 'a4', 'CONDA_PYTHON_EXE': '/home/trongnv130/anaconda3/bin/python', 'XDG_RUNTIME_DIR': '/run/user/1000', 'PS1': '\\[\x1b]633;A\x07\\](classify) (base) \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ \\[\x1b]633;B\x07\\]', 'CONDA_DEFAULT_ENV': 'classify', 'DEBUGINFOD_URLS': 'https://debuginfod.ubuntu.com ', 'CONDA_ALLOW_SOFTLINKS': 'false', 'LC_TIME': 'vi_VN', 'VSCODE_GIT_ASKPASS_MAIN': '/usr/share/code/resources/app/extensions/git/dist/askpass-main.js', 'JOURNAL_STREAM': '8:46547', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'GDK_BACKEND': 'x11', 'PATH': '/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/envs/classify/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/home/trongnv130/.local/bin:/home/trongnv130/anaconda3/bin:/home/trongnv130/anaconda3/condabin:/home/trongnv130/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/usr/local/kafka/bin:/usr/local/kafka/bin', 'GDMSESSION': 'ubuntu', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', 'LLM_MODEL': 'Qwen/Qwen2.5-72B-Instruct', 'CONDA_PREFIX_1': '/home/trongnv130/anaconda3', 'CONDA_PREFIX_2': '/home/trongnv130/anaconda3/envs/classify', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '5607', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/code.desktop', 'LC_NUMERIC': 'vi_VN', 'TERM_PROGRAM': 'vscode', '_': '/home/trongnv130/anaconda3/envs/classify/bin/python', 'TOKENIZERS_PARALLELISM': 'false', 'TIKTOKEN_CACHE_DIR': '/home/trongnv130/anaconda3/envs/classify/lib/python3.11/site-packages/litellm/litellm_core_utils/tokenizers', 'EMBEDCHAIN_DB_URI': 'sqlite:////home/trongnv130/.embedchain/embedchain.db', 'GEMINI_API_KEY': 'AIzaSyAZOjDprlf8L9_uJaHjWQ0WG6XF_3eeKUY'} cwd=None encoding='utf-8' encoding_error_handler='strict'
2025-05-07 15:02:33.949 | ERROR    | multi_agents.pipeline:pipeline:74 - Lỗi kết nối MCP server: Failed to initialize MCP Adapter: Couldn't connect to the MCP server after 30 seconds
2025-05-08 11:00:29.863 | INFO     | multi_agents.pipeline_mcp:pipeline:77 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:00:29.863 | INFO     | multi_agents.pipeline_mcp:pipeline:79 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:00:29.868 | INFO     | multi_agents.pipeline_mcp:pipeline:204 - Kicking off the crew...
2025-05-08 11:02:34.722 | INFO     | multi_agents.pipeline_mcp:pipeline:77 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:02:34.722 | INFO     | multi_agents.pipeline_mcp:pipeline:79 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:02:34.726 | INFO     | multi_agents.pipeline_mcp:pipeline:204 - Kicking off the crew...
2025-05-08 11:02:42.690 | INFO     | multi_agents.pipeline_mcp:pipeline:206 - Crew execution finished
2025-05-08 11:02:42.690 | INFO     | __main__:main:21 -   customer_response: (str) Chào anh/chị Nguyễn Văn A!

Cảm ơn anh/chị đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên của chúng tôi.  Rất vui thông báo với anh/chị là hiện tại sản phẩm này đang còn hàng. Giá bán là 32.990.000 VNĐ.

Đơn hàng của anh/chị với mã số a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi đã lưu thông tin đơn hàng và sẽ liên hệ với anh/chị sớm nhất để xác nhận và hướng dẫn các bước tiếp theo trong quá trình giao hàng.

Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi. Nếu có bất kỳ thắc mắc nào, vui lòng liên hệ lại với chúng tôi.
2025-05-08 11:02:42.690 | INFO     | __main__:main:21 -   task1_output_analyze_request: (str) {"product_details": "iPhone 15 Pro Max 256GB màu Titan tự nhiên", "customer_intent": "place_order", "original_query": "Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.", "requires_inventory_check": true, "requires_order_placement": true}
2025-05-08 11:02:42.690 | INFO     | __main__:main:21 -   task2_output_check_inventory: (str) {"product_name": "iPhone 15 Pro Max 256GB màu Titan tự nhiên", "stock_status": "in_stock", "price": 32990000, "message": ""}
2025-05-08 11:02:42.690 | INFO     | __main__:main:21 -   task3_output_create_order: (str) {"order_created": true, "order_details": {"order_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef", "product": "iPhone 15 Pro Max 256GB màu Titan tự nhiên", "quantity": 1, "total_price": 32990000, "customer_info": {"conversation_id": "12345", "customer_name": "Nguyễn Văn A"}}, "message": ""}
2025-05-08 11:02:42.690 | INFO     | __main__:main:21 -   task4_output_save_order_file: (str) "/mnt/data/orders/a1b2c3d4-e5f6-7890-1234-567890abcdef.json"
2025-05-08 11:02:42.690 | INFO     | __main__:main:21 -   token_usage: (str) total_tokens=3857 prompt_tokens=3279 cached_prompt_tokens=0 completion_tokens=578 successful_requests=5
2025-05-08 11:02:42.690 | INFO     | __main__:main:27 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A!

Cảm ơn anh/chị đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên của chúng tôi.  Rất vui thông báo với anh/chị là hiện tại sản phẩm này đang còn hàng. Giá bán là 32.990.000 VNĐ.

Đơn hàng của anh/chị với mã số a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi đã lưu thông tin đơn hàng và sẽ liên hệ với anh/chị sớm nhất để xác nhận và hướng dẫn các bước tiếp theo trong quá trình giao hàng.

Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi. Nếu có bất kỳ thắc mắc nào, vui lòng liên hệ lại với chúng tôi.
2025-05-08 11:39:04.143 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:39:32.598 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:39:32.601 | INFO     | multi_agents.pipeline:pipeline:95 - Kicking off the crew...
2025-05-08 11:39:44.870 | INFO     | multi_agents.pipeline:pipeline:98 - Crew execution finished. Final result: Chào bạn! Cảm ơn bạn đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên.  Rất vui thông báo với bạn là hiện tại chúng tôi đang còn hàng sản phẩm này. Giá bán là 39.990.000 VNĐ.

Tuy nhiên, hệ thống đặt hàng của chúng tôi hiện đang gặp sự cố.  Do đó, tôi chưa thể tạo đơn hàng cho bạn ngay lúc này.  Rất tiếc về sự bất tiện này.  

Bạn có thể liên hệ lại với chúng tôi sau vài phút nữa hoặc gọi điện trực tiếp đến số hotline [Số điện thoại hotline] để được hỗ trợ đặt hàng.  Chúng tôi sẽ cố gắng khắc phục sự cố sớm nhất có thể.  Một lần nữa, xin lỗi về sự bất tiện này.
2025-05-08 11:39:44.870 | WARNING  | multi_agents.pipeline:pipeline:127 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=7230 prompt_tokens=6336 cached_prompt_tokens=0 completion_tokens=894 successful_requests=7
2025-05-08 11:39:44.870 | INFO     | __main__:main:29 - 
Câu trả lời cho khách hàng:
Chào bạn! Cảm ơn bạn đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên.  Rất vui thông báo với bạn là hiện tại chúng tôi đang còn hàng sản phẩm này. Giá bán là 39.990.000 VNĐ.

Tuy nhiên, hệ thống đặt hàng của chúng tôi hiện đang gặp sự cố.  Do đó, tôi chưa thể tạo đơn hàng cho bạn ngay lúc này.  Rất tiếc về sự bất tiện này.  

Bạn có thể liên hệ lại với chúng tôi sau vài phút nữa hoặc gọi điện trực tiếp đến số hotline [Số điện thoại hotline] để được hỗ trợ đặt hàng.  Chúng tôi sẽ cố gắng khắc phục sự cố sớm nhất có thể.  Một lần nữa, xin lỗi về sự bất tiện này.
2025-05-08 11:41:58.580 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:41:58.583 | INFO     | multi_agents.pipeline:pipeline:95 - Kicking off the crew...
2025-05-08 11:42:08.661 | INFO     | multi_agents.pipeline:pipeline:98 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ với chúng tôi.  Chúng tôi rất vui mừng thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên mà anh/chị muốn mua hiện đang có sẵn trong kho với giá 34.990.000 VNĐ.  Đơn hàng của anh/chị đã được tạo thành công với mã đơn hàng 12345.  Chúng tôi sẽ liên hệ với anh/chị sớm để xác nhận thông tin giao hàng.  Nếu có bất kỳ thắc mắc nào, vui lòng liên hệ lại với chúng tôi.  Rất hân hạnh được phục vụ anh/chị!
2025-05-08 11:42:08.661 | WARNING  | multi_agents.pipeline:pipeline:127 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=5583 prompt_tokens=4698 cached_prompt_tokens=0 completion_tokens=885 successful_requests=6
2025-05-08 11:42:08.661 | INFO     | __main__:main:29 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ với chúng tôi.  Chúng tôi rất vui mừng thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên mà anh/chị muốn mua hiện đang có sẵn trong kho với giá 34.990.000 VNĐ.  Đơn hàng của anh/chị đã được tạo thành công với mã đơn hàng 12345.  Chúng tôi sẽ liên hệ với anh/chị sớm để xác nhận thông tin giao hàng.  Nếu có bất kỳ thắc mắc nào, vui lòng liên hệ lại với chúng tôi.  Rất hân hạnh được phục vụ anh/chị!
2025-05-08 11:47:53.379 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 11:47:53.382 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 11:48:07.766 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo với anh/chị là hiện tại chúng tôi còn hàng iPhone 15 Pro Max 256GB màu Titan tự nhiên. Giá sản phẩm là 34.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin và tiến hành giao hàng trong thời gian sớm nhất.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 11:48:07.767 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=8669 prompt_tokens=7564 cached_prompt_tokens=0 completion_tokens=1105 successful_requests=7
2025-05-08 11:48:07.767 | INFO     | __main__:main:29 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo với anh/chị là hiện tại chúng tôi còn hàng iPhone 15 Pro Max 256GB màu Titan tự nhiên. Giá sản phẩm là 34.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin và tiến hành giao hàng trong thời gian sớm nhất.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 13:45:06.788 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 13:45:06.790 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 13:45:41.679 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 13:45:41.682 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 13:45:54.440 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 13:45:54.443 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 13:46:40.652 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 13:46:40.655 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 13:46:50.760 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang có sẵn trong kho với giá 32.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin và tiến hành giao hàng trong thời gian sớm nhất.  Nếu có bất kỳ thắc mắc nào, vui lòng liên hệ lại với chúng tôi.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 13:46:50.761 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=6412 prompt_tokens=5477 cached_prompt_tokens=0 completion_tokens=935 successful_requests=6
2025-05-08 13:46:50.761 | INFO     | __main__:main:29 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang có sẵn trong kho với giá 32.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin và tiến hành giao hàng trong thời gian sớm nhất.  Nếu có bất kỳ thắc mắc nào, vui lòng liên hệ lại với chúng tôi.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 14:07:32.985 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 14:07:32.987 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 14:07:41.283 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang có sẵn trong kho. Giá sản phẩm là 32.990.000 VNĐ.  Đơn đặt hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin giao hàng trong thời gian sớm nhất.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 14:07:41.283 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=4729 prompt_tokens=4072 cached_prompt_tokens=0 completion_tokens=657 successful_requests=5
2025-05-08 14:07:41.283 | INFO     | __main__:main:29 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang có sẵn trong kho. Giá sản phẩm là 32.990.000 VNĐ.  Đơn đặt hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin giao hàng trong thời gian sớm nhất.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 14:48:50.945 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 14:48:50.948 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 14:49:20.385 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 14:49:20.389 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 14:51:11.974 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 14:51:11.977 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 14:51:33.829 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 14:51:33.834 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 14:51:43.654 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo là hiện tại chúng tôi còn hàng iPhone 15 Pro Max 256GB màu Titan tự nhiên mà anh/chị quan tâm. Giá sản phẩm là 34.990.000 VNĐ.  Đơn hàng của anh/chị với mã số a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 14:51:43.655 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=4745 prompt_tokens=4077 cached_prompt_tokens=0 completion_tokens=668 successful_requests=5
2025-05-08 14:51:43.655 | INFO     | __main__:main:29 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo là hiện tại chúng tôi còn hàng iPhone 15 Pro Max 256GB màu Titan tự nhiên mà anh/chị quan tâm. Giá sản phẩm là 34.990.000 VNĐ.  Đơn hàng của anh/chị với mã số a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:00:00.928 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:00:00.960 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:02:07.696 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:02:07.699 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:02:15.987 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên mà anh/chị muốn mua hiện đang có sẵn trong kho với giá 32.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị sớm để xác nhận thông tin và tiến hành giao hàng.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:02:15.987 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=4792 prompt_tokens=4112 cached_prompt_tokens=0 completion_tokens=680 successful_requests=5
2025-05-08 15:02:15.987 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên mà anh/chị muốn mua hiện đang có sẵn trong kho với giá 32.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị sớm để xác nhận thông tin và tiến hành giao hàng.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:03:12.237 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:03:12.240 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:03:26.516 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:03:26.519 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:03:38.148 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:03:38.153 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:04:25.616 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:04:25.620 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:04:41.473 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:04:41.478 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:07:44.260 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:07:44.263 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:07:50.244 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Xin chào quý khách!

Tôi rất vui được hỗ trợ bạn.  Để tôi có thể kiểm tra tình trạng tồn kho và giá của iPhone 15 Pro Max 256GB màu Titan tự nhiên, vui lòng cho tôi biết nguồn cung cấp sản phẩm mà bạn quan tâm. Ví dụ, bạn muốn mua sản phẩm tại cửa hàng nào, hoặc trên website nào?  Thông tin này sẽ giúp tôi tìm kiếm chính xác và nhanh chóng hơn.

Cảm ơn bạn đã kiên nhẫn.
2025-05-08 15:07:50.244 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=4567 prompt_tokens=4067 cached_prompt_tokens=0 completion_tokens=500 successful_requests=5
2025-05-08 15:07:50.244 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Xin chào quý khách!

Tôi rất vui được hỗ trợ bạn.  Để tôi có thể kiểm tra tình trạng tồn kho và giá của iPhone 15 Pro Max 256GB màu Titan tự nhiên, vui lòng cho tôi biết nguồn cung cấp sản phẩm mà bạn quan tâm. Ví dụ, bạn muốn mua sản phẩm tại cửa hàng nào, hoặc trên website nào?  Thông tin này sẽ giúp tôi tìm kiếm chính xác và nhanh chóng hơn.

Cảm ơn bạn đã kiên nhẫn.
2025-05-08 15:08:29.605 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:08:29.609 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:08:37.618 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Xin chào quý khách!

Tôi rất vui được hỗ trợ bạn.  Để tôi có thể kiểm tra tình trạng tồn kho và giá của iPhone 15 Pro Max 256GB màu Titan tự nhiên, tôi cần thêm một chút thông tin.  Hiện tại, tôi chưa có thông tin về nguồn hàng cụ thể và giá bán lẻ.

Vui lòng cho tôi biết bạn muốn mua sản phẩm này từ đâu (ví dụ: cửa hàng trực tuyến, cửa hàng bán lẻ)?  Thông tin này sẽ giúp tôi kiểm tra nhanh chóng và chính xác hơn.

Cảm ơn bạn đã kiên nhẫn!
2025-05-08 15:08:37.618 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=5337 prompt_tokens=4712 cached_prompt_tokens=0 completion_tokens=625 successful_requests=5
2025-05-08 15:08:37.618 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Xin chào quý khách!

Tôi rất vui được hỗ trợ bạn.  Để tôi có thể kiểm tra tình trạng tồn kho và giá của iPhone 15 Pro Max 256GB màu Titan tự nhiên, tôi cần thêm một chút thông tin.  Hiện tại, tôi chưa có thông tin về nguồn hàng cụ thể và giá bán lẻ.

Vui lòng cho tôi biết bạn muốn mua sản phẩm này từ đâu (ví dụ: cửa hàng trực tuyến, cửa hàng bán lẻ)?  Thông tin này sẽ giúp tôi kiểm tra nhanh chóng và chính xác hơn.

Cảm ơn bạn đã kiên nhẫn!
2025-05-08 15:13:21.675 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:13:21.682 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:13:27.470 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo với anh/chị là iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang có sẵn trong kho với giá 39.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị sớm để xác nhận thông tin giao hàng.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:13:27.470 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=3409 prompt_tokens=2888 cached_prompt_tokens=0 completion_tokens=521 successful_requests=4
2025-05-08 15:13:27.470 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo với anh/chị là iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang có sẵn trong kho với giá 39.990.000 VNĐ.  Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị sớm để xác nhận thông tin giao hàng.  Một lần nữa, cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:19:19.772 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:19:19.777 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:19:26.266 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A!  Rất vui được hỗ trợ anh/chị.

Tôi đã kiểm tra kho và rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang còn hàng. Giá sản phẩm là 32.990.000 VNĐ.

Anh/chị đã đặt hàng thành công! Mã đơn hàng của anh/chị là a1b2c3d4-e5f6-7890-1234-567890abcdef. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin và tiến hành giao hàng trong thời gian sớm nhất.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:19:26.267 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=3416 prompt_tokens=2888 cached_prompt_tokens=0 completion_tokens=528 successful_requests=4
2025-05-08 15:19:26.267 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A!  Rất vui được hỗ trợ anh/chị.

Tôi đã kiểm tra kho và rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang còn hàng. Giá sản phẩm là 32.990.000 VNĐ.

Anh/chị đã đặt hàng thành công! Mã đơn hàng của anh/chị là a1b2c3d4-e5f6-7890-1234-567890abcdef. Chúng tôi sẽ liên hệ với anh/chị để xác nhận thông tin và tiến hành giao hàng trong thời gian sớm nhất.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:22:10.636 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:22:10.640 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:22:18.746 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang còn hàng. Giá sản phẩm là 32.990.000 VNĐ.

Đơn hàng của anh/chị đã được đặt thành công với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef.  Chúng tôi sẽ liên hệ với anh/chị sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:22:18.747 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=4727 prompt_tokens=4073 cached_prompt_tokens=0 completion_tokens=654 successful_requests=5
2025-05-08 15:22:18.747 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã liên hệ.  Rất vui thông báo rằng iPhone 15 Pro Max 256GB màu Titan tự nhiên hiện đang còn hàng. Giá sản phẩm là 32.990.000 VNĐ.

Đơn hàng của anh/chị đã được đặt thành công với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef.  Chúng tôi sẽ liên hệ với anh/chị sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:29:14.274 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:29:14.278 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:29:20.412 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A!  Cảm ơn anh/chị đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên.  Rất vui thông báo với anh/chị là hiện tại sản phẩm này đang còn hàng trong kho với giá 32.990.000 VNĐ.

Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công.  Chúng tôi sẽ liên hệ với anh/chị sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Anh/chị vui lòng kiểm tra thông tin đặt hàng và liên hệ với chúng tôi nếu có bất kỳ thắc mắc nào.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:29:20.412 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=3447 prompt_tokens=2888 cached_prompt_tokens=0 completion_tokens=559 successful_requests=4
2025-05-08 15:29:20.412 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A!  Cảm ơn anh/chị đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên.  Rất vui thông báo với anh/chị là hiện tại sản phẩm này đang còn hàng trong kho với giá 32.990.000 VNĐ.

Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công.  Chúng tôi sẽ liên hệ với anh/chị sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Anh/chị vui lòng kiểm tra thông tin đặt hàng và liên hệ với chúng tôi nếu có bất kỳ thắc mắc nào.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:31:46.050 | INFO     | multi_agents.pipeline:pipeline:9 - Pipeline started with input: 'Tôi muốn mua iPhone 15 Pro Max 256GB màu Titan tự nhiên còn hàng không? Giá bao nhiêu? Nếu có thì tôi muốn đặt hàng ngay.' and context: {'conversation_id': '12345', 'customer_name': 'Nguyễn Văn A', 'previous_interactions': 'Đã từng hỏi về iPad Air.'}
2025-05-08 15:31:46.054 | INFO     | multi_agents.pipeline:pipeline:114 - Kicking off the crew...
2025-05-08 15:31:54.460 | INFO     | multi_agents.pipeline:pipeline:117 - Crew execution finished. Final result: Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên của chúng tôi.  Rất vui thông báo với anh/chị là hiện tại sản phẩm này đang còn hàng. Giá của sản phẩm là 32.990.000 VNĐ.

Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị trong thời gian sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Anh/chị có thể liên hệ với chúng tôi qua số điện thoại [Số điện thoại cửa hàng] nếu có bất kỳ thắc mắc nào.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
2025-05-08 15:31:54.460 | WARNING  | multi_agents.pipeline:pipeline:146 - Giá trị cho key 'token_usage' có kiểu <class 'crewai.types.usage_metrics.UsageMetrics'> không thể serialize JSON trực tiếp, chuyển thành string: total_tokens=4785 prompt_tokens=4077 cached_prompt_tokens=0 completion_tokens=708 successful_requests=5
2025-05-08 15:31:54.461 | INFO     | __main__:main:24 - 
Câu trả lời cho khách hàng:
Chào anh/chị Nguyễn Văn A! Cảm ơn anh/chị đã quan tâm đến sản phẩm iPhone 15 Pro Max 256GB màu Titan tự nhiên của chúng tôi.  Rất vui thông báo với anh/chị là hiện tại sản phẩm này đang còn hàng. Giá của sản phẩm là 32.990.000 VNĐ.

Đơn hàng của anh/chị với mã đơn hàng a1b2c3d4-e5f6-7890-1234-567890abcdef đã được tạo thành công. Chúng tôi sẽ liên hệ với anh/chị trong thời gian sớm nhất để xác nhận thông tin và tiến hành giao hàng.  Anh/chị có thể liên hệ với chúng tôi qua số điện thoại [Số điện thoại cửa hàng] nếu có bất kỳ thắc mắc nào.  Cảm ơn anh/chị đã lựa chọn sản phẩm của chúng tôi!
